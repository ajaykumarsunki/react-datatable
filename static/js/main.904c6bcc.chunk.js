(this["webpackJsonpfinkraft-assmt"]=this["webpackJsonpfinkraft-assmt"]||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var c=n(0),s=n(1),r=n.n(s),a=n(9),l=n.n(a),o=n(8),i=n(3),d=n(4),h=n(2),j=n(6),u=n(5),b=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var c;return Object(i.a)(this,n),(c=e.call(this,t)).handleChkChange=function(t){return c.props.handleChange(t)},console.log("constructor"),c.state={isChecked:!1},c.handleChkChange=c.handleChkChange.bind(Object(h.a)(c)),c}return Object(d.a)(n,[{key:"render",value:function(){return Object(c.jsx)("input",{type:"checkbox",onChange:this.handleChkChange,checked:this.props.isChecked})}}]),n}(s.Component);var O=function(t){var e=t.contact,n=t.selectAllOrNone,s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(b,{selectAllOrNone:n,isChecked:1==n||-1!=n&&void 0,handleChange:function(n){t.addSelection(e,n.target.checked),t.resetSelectAllOrNone()}})}),Object(c.jsx)("td",{children:e.contact_name}),Object(c.jsx)("td",{children:e.company_name}),Object(c.jsx)("td",{children:e.email}),Object(c.jsx)("td",{children:e.phone}),Object(c.jsx)("td",{children:e.gst_treatment}),Object(c.jsx)("td",{className:"right-justify",children:s.format(e.outstanding_receivable_amount)}),Object(c.jsx)("td",{className:"right-justify",children:s.format(e.outstanding_payable_amount)})]})},m=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(i.a)(this,n),(t=e.call(this)).getAllContacts=function(){return fetch("https://react-datatable-backend.herokuapp.com/contacts",{method:"GET"}).then((function(t){return t.json()})).catch((function(t){return t.json()}))},t.modifySelectedContacts=function(e,n){var c=t.state.selectedIds,s=e.contact_id;if(n)t.setState({selectedIds:[].concat(Object(o.a)(c),[s])});else{var r=c.filter((function(t){return t!=s}));t.setState({selectedIds:r})}},t.onLoadClicked=function(){t.getAllContacts().then((function(e){t.setState({data:e})})).catch((function(e){return t.setState({error:e})}))},t.sortedTable=function(e){var n=t.state.sortConfig;if(""!=n.sortColumn){var c=Object(o.a)(e),s=n.sortColumn,r=n.sortOrder;return c.sort((function(t,e){return t[s]<e[s]?-1*r:t[s]==e[s]?0:t[s]>e[s]?1*r:void 0})),c}return e},t.sortTable=function(e,n){e.preventDefault();var c=t.state.sortConfig,s=c.sortColumn,r=c.sortOrder;n==s&&(r*=-1),t.setState({sortConfig:{sortColumn:n,sortOrder:r}});var a=t.state.data.contacts;t.renderContacts(a)},t.doSelectAllOrNone=function(t){this.state.selectedIds;var e=this.state.data.contacts,n=[];t.target.checked?(n=e.map((function(t){return t.contact_id})),this.setState({selectedIds:n,selectAllOrNone:1})):this.setState({selectedIds:n,selectAllOrNone:-1})},t.resetSelectAllOrNone=function(){return t.setState({selectAllOrNone:0})},t.renderContacts=function(e){var n=t.sortedTable(e);return Object(c.jsxs)("div",{children:[Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{}),Object(c.jsx)("th",{children:Object(c.jsxs)("button",{onClick:function(e){return t.sortTable(e,"contact_name")},children:[Object(c.jsx)("span",{className:"th",children:"NAME"}),Object(c.jsx)("span",{className:"arrows",children:"\u21c5"})]})}),Object(c.jsx)("th",{children:Object(c.jsxs)("button",{onClick:function(e){return t.sortTable(e,"company_name")},children:[Object(c.jsx)("span",{className:"th",children:"COMPANY NAME"}),Object(c.jsx)("span",{className:"arrows",children:"\u21c5"})]})}),Object(c.jsx)("th",{children:Object(c.jsxs)("button",{onClick:function(e){return t.sortTable(e,"email")},children:[Object(c.jsx)("span",{className:"th",children:"EMAIL"}),Object(c.jsx)("span",{className:"arrows",children:"\u21c5"})]})}),Object(c.jsx)("th",{style:{width:"175px"},children:Object(c.jsxs)("button",{onClick:function(e){return t.sortTable(e,"phone")},children:[Object(c.jsx)("span",{className:"th",children:"WORK PHONE"}),Object(c.jsx)("span",{className:"arrows",children:"\u21c5"})]})}),Object(c.jsx)("th",{style:{width:"190px"},children:Object(c.jsxs)("button",{onClick:function(e){return t.sortTable(e,"gst_treatment")},children:[Object(c.jsx)("span",{className:"th",children:"GST TREATMENT "}),Object(c.jsx)("span",{className:"arrows",children:"\u21c5"})]})}),Object(c.jsx)("th",{style:{width:"175px"},children:Object(c.jsxs)("button",{onClick:function(e){return t.sortTable(e,"outstanding_receivable_amount")},children:[Object(c.jsx)("span",{className:"th",children:"RECEIVABLES"}),Object(c.jsx)("span",{className:"arrows",children:"\u21c5"})]})}),Object(c.jsx)("th",{style:{width:"175px"},children:Object(c.jsxs)("button",{onClick:function(e){return t.sortTable(e,"outstanding_payable_amount")},children:[Object(c.jsx)("span",{className:"th",children:"PAYABLES"}),Object(c.jsx)("span",{className:"arrows",children:"\u21c5"})]})})]})}),Object(c.jsx)("tbody",{children:n.map((function(e,n){return Object(c.jsx)(O,{contact:e,addSelection:t.modifySelectedContacts,selectAllOrNone:t.state.selectAllOrNone,resetSelectAllOrNone:t.resetSelectAllOrNone},n)}))})]}),Object(c.jsx)("p",{className:"selection-count",children:"".concat(t.state.selectedIds.length," selected")})]})},t.state={data:{contacts:[]},error:null,sortConfig:{sortColumn:"contact_name",sortOrder:1},selectedIds:[],selectAllOrNone:0},t.onLoadClicked=t.onLoadClicked.bind(Object(h.a)(t)),t.sortTable=t.sortTable.bind(Object(h.a)(t)),t}return Object(d.a)(n,[{key:"componentWillMount",value:function(){this.onLoadClicked()}},{key:"componentDidUpdate",value:function(){console.log("total: "+this.state.selectedIds.length+" | "+this.state.selectedIds.join(" | "))}},{key:"render",value:function(){var t=this.state.data.contacts;return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"results",children:t.length?this.renderContacts(t):""})})}}]),n}(s.Component);n(15);var x=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(m,{})})};l.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.904c6bcc.chunk.js.map